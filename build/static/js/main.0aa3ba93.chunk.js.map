{"version":3,"sources":["components/Note/index.js","services/notes.js","App.js","index.js","App.module.css"],"names":["Note","note","toggleImportance","label","important","console","log","type","hoverable","justify","align","content","onClick","baseUrl","axios","get","then","response","data","newObject","post","id","put","App","useState","notes","setNotes","newNote","setNewNote","showAll","setShowAll","errorMessage","setErrorMessage","useEffect","noteService","initialNotes","notesToShow","filter","className","styles","appWrapper","message","card","title","style","width","extra","map","i","find","n","changedNote","returnedNote","catch","error","setTimeout","toggleImportanceOf","addNoteArea","span","value","onChange","event","target","noteObject","date","Date","toISOString","Math","random","length","concat","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.0aa3ba93.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Card, Button, Row } from \"antd\";\r\n\r\nconst Note = ({ note, toggleImportance }) => {\r\n  const label = note.important;\r\n  console.log(label);\r\n  return (\r\n    <Card type=\"inner\" hoverable=\"true\">\r\n      <Row justify=\"space-between\" align=\"middle\">\r\n        <p>{note.content}</p>\r\n        <Button onClick={toggleImportance}>\r\n          {label ? \"important\" : \"not important\"}\r\n        </Button>\r\n      </Row>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default Note;\r\n","import axios from \"axios\";\r\nconst baseUrl = \"/api/notes\";\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then((response) => response.data);\r\n};\r\nconst create = (newObject) => {\r\n  const request = axios.post(baseUrl, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\nexport default {\r\n  getAll,\r\n  create,\r\n  update,\r\n};\r\n","import React, { useState, useEffect } from \"react\";\nimport { Button, Card, Row, Col, Input } from \"antd\";\nimport Note from \"./components/Note\";\nimport Notification from \"rc-notification/lib/Notification\";\nimport noteService from \"./services/notes\";\nimport styles from \"./App.module.css\";\n\nfunction App() {\n  const [notes, setNotes] = useState([]);\n  const [newNote, setNewNote] = useState(\"\");\n  // 过滤重要的\n  const [showAll, setShowAll] = useState(true);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n\n  useEffect(() => {\n    noteService.getAll().then((initialNotes) => {\n      console.log(\"promise fullfilled\");\n      console.log(initialNotes);\n      setNotes(initialNotes);\n    });\n  }, []);\n\n  //点击按钮改变重要性 id-->note-->http put替换掉该note\n  const toggleImportanceOf = (id) => {\n    const note = notes.find((n) => n.id === id);\n    //note副本\n    const changedNote = { ...note, important: !note.important };\n    noteService\n      .update(id, changedNote)\n      .then((returnedNote) => {\n        setNotes(notes.map((note) => (note.id !== id ? note : returnedNote)));\n      })\n      .catch((error) => {\n        setErrorMessage(\n          `Note '${note.content}' was already removed from server`\n        );\n        setTimeout(() => {\n          setErrorMessage(null);\n        }, 5000);\n        setNotes(notes.filter((n) => n.id !== id));\n      });\n  };\n\n  const addNote = () => {\n    const noteObject = {\n      content: newNote,\n      date: new Date().toISOString(),\n      important: Math.random() < 0.5,\n      id: notes.length + 1,\n    };\n    // 发送一个js对象\n    noteService.create(noteObject).then((returnedNote) => {\n      setNotes(notes.concat(returnedNote));\n      // input置空\n      setNewNote(\"\");\n    });\n  };\n  // input值更新到NewNote中\n  const handleNoteChange = (event) => {\n    setNewNote(event.target.value);\n  };\n\n  const notesToShow = showAll ? notes : notes.filter((note) => note.important);\n  // console.log(notesToShow);\n\n  return (\n    <div className={styles.appWrapper}>\n      <Notification message={errorMessage} />\n      <Card\n        className={styles.card}\n        title=\"Notes\"\n        style={{ width: \"60vw\" }}\n        extra={\n          <Button onClick={() => setShowAll(!showAll)}>\n            <span>show {showAll ? \"important\" : \"all\"}</span>\n          </Button>\n        }\n      >\n        {notesToShow.map((note, i) => (\n          <Note\n            toggleImportance={() => toggleImportanceOf(note.id)}\n            key={note.id}\n            note={note}\n          />\n        ))}\n\n        <div className={styles.addNoteArea}>\n          <Row justify=\"space-between\">\n            <Col span={19}>\n              <Input value={newNote} onChange={handleNoteChange} />\n            </Col>\n            <Col>\n              <Button onClick={addNote}>confirm</Button>\n            </Col>\n          </Row>\n        </div>\n      </Card>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"appWrapper\":\"App_appWrapper__2zoVD\",\"addNoteArea\":\"App_addNoteArea__323uB\"};"],"sourceRoot":""}